{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <title>{% block title %}Lyrical{% endblock %}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lilita+One&display=swap">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" 
              integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
        <link rel="stylesheet" href="{% static 'lyrical/style/global-variables.css' %}">
        <link rel="stylesheet" href="{% static 'lyrical/style/bootstrap-overrides.css' %}">
        <link rel="stylesheet" href="{% static 'lyrical/style/styles.css' %}">
        {% block head %}
        {% endblock %}
    </head>
    <body data-authenticated="{% if user.is_authenticated %}true{% else %}false{% endif %}">
        <div class="page-container">
            {% block sidebar %}
            <aside class="sidebar">
                <ul>
                    <!-- Logo / default route -->
                    <li class="sidebar-logo">
                        <a href="{% url 'index' %}">
                            <img src="{% static 'lyrical/image/lyrical.jpeg' %}" alt="Lyrical Logo" class="sidebar-logo-large">
                            <img src="{% static 'lyrical/image/lyrical-icon.jpeg' %}" alt="Lyrical Icon" class="sidebar-logo-small">
                        </a>
                    </li>
                    
                    <li class="sidebar-heading">Navigation</li>


                    
                    
                    <li class="sidebar-heading">Account</li>

                    {% if user.is_authenticated %}

                    <!-- My Profile -->
                    <li>
                        <a href="{% url 'profile' user.username %}" class="{% if active_filter != 'profile' %}in{% endif %}active-link">
                            <i class="bi-person"></i>
                            <span class="sidebar-menu-text">My Profile</span>
                        </a>
                    </li>
                    <hr>

                    <!-- Logout -->
                    <li>
                        <a href="{% url 'logout' %}" class="inactive-link">
                            <i class="bi-box-arrow-left"></i>
                            <span class="sidebar-menu-text">Logout</span>
                        </a>
                    </li>

                    {% else %}

                    <!-- Login -->
                    <li>
                        <a href="{% url 'login' %}" class="{% if active_filter != 'login' %}in{% endif %}active-link">
                            <i class="bi-box-arrow-in-right"></i>
                            <span class="sidebar-menu-text">Login</span>
                        </a>
                    </li>                   

                    <!-- Register -->
                    <li>
                        <a href="{% url 'register' %}" class="{% if active_filter != 'register' %}in{% endif %}active-link">
                            <i class="bi-person-add"></i>
                            <span class="sidebar-menu-text">Register</span>
                        </a>
                    </li>                   
                    {% endif %}
                </ul>
            </aside>
            {% endblock %}

            <main class="content">
                <!-- Show any error message  from any page as a banner -->
                {% if error_message %}
                    <div class="alert alert-danger" role="alert">
                        {{ error_message }}
                    </div>                    
                {% endif %}

                <div class="page-content">
                    {% block body %}
                    {% endblock %}
                </div>                    
            </main>
        </div>

        <!-- Bootstrap JS and dependencies (jQuery and Popper.js for Bootstrap 4) -->
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

        {% block scripts %}
        {% endblock %}
    </body>
</html>