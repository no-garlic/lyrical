{% extends "lyrical/layout_base.html" %}
{% load static %}

{% block body %}
    <div id="song-edit-container" class="flex h-screen w-screen overflow-hidden">

        <!-- Fixed width sidebar -->
        <div id="sidebar-panel" class="w-64 flex-shrink-0 flex justify-center items-center overflow-hidden">
            <div class="h-full w-full flex items-center justify-center">
                <div class="h-full w-full flex flex-col items-top justify-top border-r border-base-300">

                    <!-- Title -->
                    <p class="pt-5 text-center mb-10 mt-2 text-4xl font-[Chango]">LYRICAL</p>

                    <!-- Image -->
                    <img src="{% static 'lyrical/image/singer-transparent.png' %}" 
                        alt="Singer performing"
                        class="object-contain mt-4 w-full [mask-image:linear-gradient(to_bottom,rgba(0,0,0,1)_85%,rgba(0,0,0,0)_100%)]">
                    
                    <!-- Menu -->                    
                    <ul class="menu bg-base-200 w-full mt-10 menu-lg pl-4 pr-4">
                        <li class="mb-1">
                            <a class="{% if active_page == 'index' %}menu-active{% endif %}" href="{% url 'index' %}">
                                Home
                            </a>
                        </li>
                        <li class="mb-1">
                            <a class="{% if active_page == 'library' %}menu-active{% endif %}" href="{% url 'library' %}">
                                Library
                            </a>
                        </li>
                        <li class="mb-1">
                            <a class="{% if active_page == 'lyrics' %}menu-active{% endif %}" href="{% url 'names' %}">
                                Edit
                            </a>
                        </li>
                        <li class="mb-1">
                            <a class="{% if active_page == 'explore' %}menu-active{% endif %}" href="{% url 'index' %}">
                                Explore
                            </a>
                        </li>
                        <li class="mb-1">
                            <a class="{% if active_page == 'help' %}menu-active{% endif %}" href="{% url 'index' %}">
                                Help
                            </a>
                        </li>
                    </ul>

                    <!-- LLM Options -->
                    <div class="bg-base shadow rounded border border-base-300 bg-base flex flex-col mt-4 mb-2 ml-2 mr-2 p-4">
                        <p class="text-sm ml-1 mb-1">
                            Select LLM:
                        </p>
                        <select class="flex-grow select select-base">
                            <!--option disabled selected>Select LLM</option-->
                            <option>Chat GPT 4.1</option>
                            <option>Claude 3.7</option>
                            <option>Gemini 2.0 Flash</option>
                        </select>

                        <p class="text-sm ml-1 mb-1 mt-5">
                            Temperature:
                        </p>
                        <div class="w-full max-w-xs">
                            <input type="range" min="0" max="100" value="20" class="range" step="10" />
                            <div class="flex justify-between px-2.5 mt-2 text-xs">
                                <span>|</span>
                                <span>|</span>
                                <span>|</span>
                            </div>
                            <div class="flex justify-between px-2.5 mt-2 text-xs">
                                <span>0</span>
                                <span>0.5</span>
                                <span>1</span>
                            </div>
                        </div>

                        <p class="text-sm ml-1 mb-1 mt-5">
                            Max Tokens:
                        </p>
                        <div class="w-full max-w-xs">
                            <input type="range" min="1000" max="5000" value="2500" class="range"/>
                            <div class="flex justify-between px-2.5 mt-2 text-xs">
                                <span>|</span>
                                <span>|</span>
                                <span>|</span>
                                <span>|</span>
                                <span>|</span>
                            </div>
                            <div class="flex justify-between px-2.5 mt-2 text-xs">
                                <span>1k</span>
                                <span>2k</span>
                                <span>3k</span>
                                <span>4k</span>
                                <span>5k</span>
                            </div>
                        </div>
                    </div>

                    <!-- Expandable Space -->
                    <div class="flex-1">
                    </div>

                    <!-- Menu -->                    
                    <ul class="menu bg-base-200 w-full mt-10 mb-3 menu-lg p-0">
                        <div class="mt-1 mb-3 border border-b border-1 border-base-300"></div>
                        <li class="mb-1 pl-6 pr-4">
                            <a class="{% if active_page == 'profile' %}menu-active{% endif %}" href="{% url 'profile' %}">
                                My Profile
                            </a>
                        </li>
                        <li class="mb-1 pl-6 pr-4">
                            <a class="{% if active_page == 'logout' %}menu-active{% endif %}" href="{% url 'logout' %}">
                                Logout
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Right content area: holds top bar and main page panels -->
        <div id="right-content-area" class="flex flex-col flex-1 overflow-hidden">

            <!-- Fixed height top bar -->
            <div id="top-bar-panel" class="h-13 flex-shrink-0 flex w-full mt-2">
                <div class="h-full w-full flex">

                    <!-- Top Bar Container -->
                    <div class="flex w-full h-full items-end">

                        <!-- Left Item: Close Button -->
                        <div class="w-[5%] text-left ml-3">
                            <a href="{% url 'library' %}">
                                <button class="btn btn-lg btn-secondary">X</button>
                            </a>
                        </div>

                        <!-- Middle Item: Title -->
                        <div class="w-[65%] text-center">
                            <p class="text-3xl font-bold">
                                {% if page_title %}{{page_title}}{% else %}PAGE TITLE{% endif %}
                            </p>
                        </div>

                        <!-- Right Items: LLM Selection & Next Button -->
                        <div class="w-[34%] flex justify-end items-center gap-3 mr-3">

                            <select class="flex-grow select select-secondary select-lg min-w-0">
                                <option disabled selected>Select LLM</option>
                                <option>OpenAI: Chat GPT 4.1</option>
                                <option>Anthropic: Claude 3.7</option>
                                <option>Google: Gemini 2.0 Flash</option>

                            </select>
                            <button class="flex-none btn btn-lg btn-secondary">Next &nbsp; ></button>
                        </div>


                        {% block stopbar %}
                        {% endblock %}
                    </div>



                </div>
            </div>

            <!-- Container for main page panels and their splitters -->
            <div id="main-panels-container" class="flex flex-1 overflow-hidden">
                {% block page_content %}
                {% endblock %}
            </div>

            <!-- Fixed height footer -->
            <div id="footer-panel" class="h-16 flex-shrink-0 flex justify-center items-center overflow-hidden">
                <div class="h-full w-full flex items-center justify-center">
                {% block footer %}
                {% endblock %}
                </div>
            </div>

        </div>
    </div>
{% endblock %}
